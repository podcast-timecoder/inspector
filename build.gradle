plugins {
    id 'io.franzbecker.gradle-lombok' version '3.1.0'
    id 'java'
    id 'org.springframework.boot' version '2.1.6.RELEASE'
    id 'com.google.cloud.tools.jib' version '1.3.0'
}

apply plugin: 'java'
apply plugin: 'io.spring.dependency-management'

dependencyManagement {
    imports {
        mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES
    }
}

group 'jacoco'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    implementation group: 'org.jacoco', name: 'org.jacoco.cli', version: '0.8.4'
    implementation 'org.springframework.boot:spring-boot-starter-web'

    compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'
    compile group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'
    
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

jib {
    from {
        image = "openjdk:8-slim"
    }

    to {
        image = "spirogov/inspector:latest"
    }
}